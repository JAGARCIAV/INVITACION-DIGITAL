<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link href="https://fonts.googleapis.com/css2?family=Great+Vibes&display=swap" rel="stylesheet">
  <title>Document</title>
  <link rel="stylesheet" href="style.css">
</head>
<body>
    <div class="container">
      <div class="item1">
        <div class="contenido">
            <div class="titulo">XV</div>
          <div class="nombre">
            <span class="fijo">Ke</span><span class="efecto yla">yla</span>
            <span class="fijo"> Isa</span><span class="efecto yla">bel</span>
        </div>
            <div class="nombre">

        </div>
        </div>
      </div>
      <div class="item-espacio">
        <p >HAS CLICK PARA EMPEZAR</p>
        <p >LA MAGIA</p>

      </div>
      <div class="item2">
        <!-- Reproductor estilizado -->
      <div class="musica player" aria-label="Reproductor musical">
        <button class="btn-play" aria-pressed="false" title="Reproducir / Pausar">‚ñ∫</button>
        <audio id="audio" src="musik/musicafondo.mp3" preload="auto" loop></audio>
      </div>
          <script>
    // Controles b√°sicos del reproductor personalizado
    const audio = document.getElementById('audio');
    const btn = document.querySelector('.btn-play');
    const progress = document.querySelector('.progress');
    const fill = document.querySelector('.progress-fill');
    const time = document.querySelector('.time');

    function formatTime(sec){
      const s = Math.floor(sec % 60).toString().padStart(2,'0');
      const m = Math.floor(sec / 60);
      return m + ':' + s;
    }

    btn.addEventListener('click', () => {
      if (audio.paused) {
        audio.play();
        btn.textContent = '‚ùö‚ùö';
        btn.setAttribute('aria-pressed','true');
      } else {
        audio.pause();
        btn.textContent = '‚ñ∫';
        btn.setAttribute('aria-pressed','false');
      }
    });

    audio.addEventListener('timeupdate', () => {
      const pct = (audio.currentTime / (audio.duration || 1)) * 100;
      fill.style.width = pct + '%';
      progress.setAttribute('aria-valuenow', Math.floor(pct));
      time.textContent = formatTime(audio.currentTime);
    });

    // click para saltar en la barra
    progress.addEventListener('click', (e) => {
      const rect = progress.getBoundingClientRect();
      const x = e.clientX - rect.left;
      const pct = x / rect.width;
      audio.currentTime = pct * (audio.duration || 0);
    });

    // iniciar reproduccion autom√°tica si el navegador lo permite
    audio.autoplay = true;
    audio.volume = 0.9;
    // intenta reproducir (algunos navegadores bloquean autoplay)
    audio.play().catch(()=>{ btn.textContent = '‚ñ∫'; });
  </script>

           <div class="invitacion">
        <p>
          Despu√©s de tantos sue√±os e ilusiones, por fin ha llegado el d√≠a que tanto he esperado...  
          ¬°Mis XV A√±os! Y me encantar√≠a compartir este momento tan especial contigo.
        </p>
      </div>

      <script>
        // Detectar cuando aparece en pantalla
        const observer = new IntersectionObserver((entries) => {
          entries.forEach(entry => {
            if (entry.isIntersecting) {
              entry.target.classList.add('visible');
            }
          });
        });

        const target = document.querySelector('.invitacion');
        observer.observe(target);
      </script>

<button id="guardarFecha" class="btn-guardar">Guardar Fecha</button>

<script>
document.getElementById('guardarFecha').addEventListener('click', () => {
    const title = "15 a√±os de Keyla Isabel";
    const startDate = "20250920T090000"; // Formato YYYYMMDDTHHMMSS
    const endDate = "20250920T230000";   // Fin del evento
    const description = "Celebraci√≥n de los 15 a√±os de Keyla Isabel.";

    const icsContent = 
`BEGIN:VCALENDAR
VERSION:2.0
BEGIN:VEVENT
SUMMARY:${title}
DTSTART:${startDate}
DTEND:${endDate}
DESCRIPTION:${description}
END:VEVENT
END:VCALENDAR`;

    // Crear un enlace tipo data URI para m√≥viles
    const encoded = encodeURIComponent(icsContent);
    const url = `data:text/calendar;charset=utf8,${encoded}`;

    const link = document.createElement('a');
    link.href = url;

    // iOS: Abrir en nueva ventana para que se pueda agregar a Calendario
    link.target = "_blank";
    
    // Nombre de descarga para Android / PC
    link.download = '15_anos_keyla_isabel.ics';
    
    document.body.appendChild(link);
    link.click();
    document.body.removeChild(link);
});
</script>

      <div class="calendario">
        <div class="calendario-inner">
          <div class="mes">SEPTIEMBRE 2025</div>
          <div class="dias-semana">
            <div>L</div><div>M</div><div>X</div><div>J</div><div>V</div><div>S</div><div>D</div>
          </div>
          <div class="dias">
            <div class="color">1</div><div class="color">2</div><div class="color">3</div><div class="color">4</div><div class="color">5</div><div class="color">6</div><div class="color">7</div>
            <div class="color">8</div><div class="color">9</div><div class="color">10</div><div class="color">11</div><div class="color">12</div><div class="color">13</div><div class="color">14</div>
            <div class="color">15</div><div class="color">16</div><div class="color">17</div><div class="color">18</div><div class="color">19</div>
            <div class="marcado">20</div>
            <div class="color">21</div><div class="color">22</div><div class="color">23</div><div class="color">24</div><div class="color">25</div><div class="color">26</div><div class="color">27</div>
            <div class="color">28</div><div class="color">29</div><div class="color">30</div>
          </div>
        </div>
      </div>
        </div>
        
        <div class="fecha2">
          <div class="day">SABADO</div>
          <div class="numero">20</div>
          <div class="mes2">SEPTIEMBRE</div>
        </div>
     
<!-- Inserta esto en tu HTML donde tengas .item3 -->
<div class="item3">
  <div class="item3-inner">
    <h2 class="titulo2">Solo faltan</h2>
    <div id="countdown" class="countdown">
      <div class="time-part">
        <span id="days" class="num">0</span>
        <span class="label">D√≠as</span>
      </div>
      <div class="time-part">
        <span id="hours" class="num">00</span>
        <span class="label">Horas</span>
      </div>
      <div class="time-part">
        <span id="minutes" class="num">00</span>
        <span class="label">Minutos</span>
      </div>
      <div class="time-part">
        <span id="seconds" class="num">00</span>
        <span class="label">Segundos</span>
      </div>
    </div>
    <div>
    <h2 class="titulo2">Para el gran d√≠a</h2>
    </div>
    <div id="message" class="message" aria-live="polite"></div>
  </div>
</div>
<script>
(function () {
  // Calcula el objetivo: 20 de Septiembre a las 23:59:59 del a√±o correspondiente
  function getTargetDate() {
    const now = new Date();
    const year = now.getFullYear();
    // mes: 8 = septiembre (0-indexed)
    let target = new Date(year, 8, 20, 23, 59, 59, 999);
    if (now > target) {
      // si ya pas√≥ este a√±o, usar el siguiente
      target = new Date(year + 1, 8, 20, 23, 59, 59, 999);
    }
    return target;
  }

  const target = getTargetDate();
  const daysEl = document.getElementById('days');
  const hoursEl = document.getElementById('hours');
  const minutesEl = document.getElementById('minutes');
  const secondsEl = document.getElementById('seconds');
  const messageEl = document.getElementById('message');

  function pad(n) { return n.toString().padStart(2, '0'); }

  function update() {
    const now = new Date();
    const diff = target - now;

    if (diff <= 0) {
      // Ha llegado (o ya pas√≥ exactamente)
      daysEl.textContent = '0';
      hoursEl.textContent = '00';
      minutesEl.textContent = '00';
      secondsEl.textContent = '00';
      messageEl.textContent = '¬°Feliz 15 cumplea√±os! üéâ';
      clearInterval(intervalId);
      return;
    }

    const secondsTotal = Math.floor(diff / 1000);
    const days = Math.floor(secondsTotal / (60*60*24));
    const hours = Math.floor((secondsTotal % (60*60*24)) / (60*60));
    const minutes = Math.floor((secondsTotal % (60*60)) / 60);
    const seconds = Math.floor(secondsTotal % 60);

    daysEl.textContent = days;
    hoursEl.textContent = pad(hours);
    minutesEl.textContent = pad(minutes);
    secondsEl.textContent = pad(seconds);

    // Mensaje opcional: muestra la fecha objetivo en formato legible
    const options = { day: '2-digit', month: 'long', year: 'numeric' };
    messageEl.textContent = 'Meta: ' + target.toLocaleDateString(undefined, options) + ' a las 23:59:59';
  }

  // actualizar inmediatamente y luego cada segundo
  update();
  const intervalId = setInterval(update, 1000);
})();
</script>

      </div>
    </div>

</body>
</html>